;!function(e,t,n){function i(t,n){this.element=t,this.options=e.extend({},c,n),this._defaults=c,this._name=o,this._init()}var o="agen$batchActions",c=(t.document,{submitSelector:"input[type=submit]",actionsSelector:"select[name=action]",noneSelected:"You have to select at least one element."});i.prototype={_init:function(){var t=this;e(t.element).find(t.options.submitSelector).remove();var n=e(t.element).find('input[name="selected[]"]'),i=e(t.element).find('input[name="batchAll"]');t.$batch=n,t.$selector=e(t.element).find(t.options.actionsSelector),t.$selector.on("change",function(e){e.preventDefault(),t._onSelect()}),i.on("change",function(n){t._onSelectAll(e(n.target))})},_onSelectAll:function(e){this.$batch.prop("checked",e.is(":checked"))},_onSelect:function(){return"none"==this.$selector.val()?!1:0==this.$batch.filter(":checked").length?(alert(this.options.noneSelected),this.$selector.val("none"),!1):e(":selected",this.$selector).data("confirm")&&!confirm(e(":selected",this.$selector).data("confirm"))?(this.$selector.val("none"),!1):void e(this.$selector).closest("form").submit()}},e.fn[o]=function(t){var c=arguments;if(t===n||"object"==typeof t)return this.each(function(){e.data(this,"plugin_"+o)||e.data(this,"plugin_"+o,new i(this,t))});if("string"==typeof t&&"_"!==t[0]&&"init"!==t){var s;return this.each(function(){var n=e.data(this,"plugin_"+o);n instanceof i&&"function"==typeof n[t]&&(s=n[t].apply(n,Array.prototype.slice.call(c,1))),"destroy"===t&&e.data(this,"plugin_"+o,null)}),s!==n?s:this}}}(jQuery,window);