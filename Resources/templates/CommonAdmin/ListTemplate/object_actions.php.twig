{% block list_object_actions %}
    {{ echo_block("list_object_actions") }}
        {% if object_actions|length > 0 %}
         <td class="actions">
            {% for action in builder.ObjectActions %}
                {% if action.credentials or builder.generator.getFromYaml('builders.' ~ action.name ~ '.params.credentials') %}
                    {{ echo_if_granted( action.credentials ? action.credentials : builder.generator.getFromYaml('builders.' ~ action.name ~ '.params.credentials'), builder.ModelClass ) }}
                {% endif -%}

                    <a class="{{ action.class|default('') }}" href="{{ echo_path((action.route ? action.route : builder.routePrefixWithSubfolder ~ '_' ~ bundle_name ~ ( builder.BaseGeneratorName ? "_" ~ builder.BaseGeneratorName : "" ) ~ '_' ~ action.name), "{ 'pk': " ~ builder.ModelClass ~ "." ~ builder.ModelPrimaryKeyName ~ " }") }}" 
                      {% if action.confirm %} data-confirm="{{ echo_trans(action.confirm,{}, i18n_catalog is defined ? i18n_catalog : "Admin") }}"{% endif %} title="{{ echo_trans(action.label,{}, i18n_catalog is defined ? i18n_catalog : "Admin") }}">
                      <i class="{{ action.icon|default('icon-asterisk') }}"></i></a>
                
                {%- if action.credentials or builder.generator.getFromYaml('builders.' ~ action.name ~ '.params.credentials') %}
                    {{ echo_endif () }}
                {% endif %}
            {% endfor %}
            <script type="text/javascript">
                $(document).ready(function() {
                    $("td.actions a").click(function(e) {
                        e.preventDefault();

                        if ($(this).data('confirm')) { 
                            if(!confirm($(this).data('confirm')))
                              return false;
                        }
                            
                        window.location.href = $(this).attr('href');
                    });
                });
            </script>
         </td>
        {% endif -%}
    {{ echo_endblock() }}
{% endblock %}
